<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Share Questionnaire</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="public-container">
    <!-- shows the questionnaire title being shared -->
    <h1 class="public-title">Share Questionnaire: <span id="qTitle">{{ q_title }}</span></h1>

    <!-- input that contains the shareable link -->
    <div class="share-link">
        <input type="text" id="shareLink" value="{{ share_url }}" readonly>
    </div>

    <!-- qr code image for easy sharing -->
    <div class="qr-code">
        <img id="qrImage" src="data:image/png;base64,{{ qr_code }}" alt="QR Code">
    </div>

    <!-- buttons for copying the link and going back -->
    <button class="primary-btn" onclick="copyLink()">Copy Link</button>
    <button class="secondary-btn" onclick="window.history.back()">Back</button>
</div>

<script>
// copies the share link to the clipboard
function copyLink() {
    const linkInput = document.getElementById('shareLink');
    linkInput.select();
    linkInput.setSelectionRange(0, 99999);
    document.execCommand("copy");
    alert("Link copied to clipboard!");
}
</script>

</body>
</html>
